<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title> Shopping Page </title>
    <!-- Bootstrap css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <!-- Google Fonts 'Roboto' --> 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <!-- Google Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
    <!-- Stylesheet -->
    <link rel="stylesheet" href="/public/css/navbar.css" />
    <link rel="stylesheet" href="/public/css/shopping-page.css" />
    <link rel="stylesheet" href="/public/css/pagination.css" />
    <link rel="stylesheet" href="/public/css/footer.css" />
  </head>
  <body>

    <div class="container d-flex flex-row align-items-center justify-content-center" style="width: 100vw; max-width: 100vw; height: 30px; padding: 0 100px; font-size: 10px; background-color: pink; gap: 20px;">
      <span id="time-of-day" style="font-weight: bold;"></span>
      <span> Welcome All! </span>
    </div>

    <header></header>

    <div id="shopping-page">

      <article>
        <h1> Lorem ipsum dolor sit amet </h1>
        <span>
          Duis aute irure dolor in reprehenderit in voluptate velit
        </span>
        <a href="" style="margin-top: 30px; font-size: 12px; color: #343a40; text-decoration: none;"> Learn More </a>
      </article>

    </div>

    <ul id="shopping-catalog">
		<% for (let product of products) { %>
			<article class="products">
				<img src="./server/Images/<%= product.image %>" width="200" height="200" />
			<h1> <%= product.model %> </h1>
			<span> <%= product.title %> </span>
			<span> <%= product.price %> </span>
			<button type="button" class='add-to-cart'> Add To Cart </button>
			</article>
		<% } %>
    </ul>

    <div id="pagination">

      <button type="button" name="previous_page">
        <span class="material-icons"> arrow_back_ios </span>
        <span> prev pg.</span>
      </button>

      <ul id="pages" class="container d-flex flex-row align-items-center justify-content-center">
        <button type="button" name="" value="0" class="pagination-btn"> 1 </button>
        <button type="button" name="" value="1" class="pagination-btn"> 2 </button>
        <button type="button" name="" value="2" class="pagination-btn"> 3 </button>
      </ul>

      <span id="pagination-abbreviation"> ... </span>
      <span id="pagination-total-pages"> </span>
      <button type="button" name="next_page">
        <span> next pg.</span>
        <span class="material-icons"> arrow_forward_ios </span>
      </button>
    </div>

    <footer></footer>
      
    <!-- Bootstrap js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <!-- JavaScript -->
    <script src="/public/js/components/Navbar.js"></script>
    <script src="/public/js/components/Footer.js"></script>
    <script src="/public/js/components/Pagination.js"></script>

    <script>
      // update the time on the facebook messenger every second
      window.addEventListener("load", function() {
          setInterval(function () {
          var hours = new Date().getHours();
          var minutes = new Date().getMinutes();
          var timeOfDay;
          // its afternoon or evening or even night
          if (hours > 12) {
              timeOfDay = " pm"
          }
          // its morning
          else if (hours < 12) {
              timeOfDay = " am";
          }
          // keep as the 12-hour format; not the 24 hour that it forces.
          if (hours > 12) {
              hours = Math.round(hours - 12);
          }
          // keep minutes as 2 digits
          if (minutes < 10) {
              minutes = "0" + minutes;
          }
          document.querySelector("#facebook-messenger-time").innerHTML = hours + ":" + minutes + timeOfDay;
          document.querySelector("#time-of-day").innerHTML = hours + ":" + minutes + timeOfDay;
          }, 1000);
      })
    </script> 

  </body>
</html>